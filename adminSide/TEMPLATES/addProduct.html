{% extends 'base.html' %}

{% block title %}Product - Your Website{% endblock %}

{% block content %}
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
<!-- Font Awesome -->
<link rel="stylesheet" href="//cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
<script src="//cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

<section class="product-section">
    <div class="container ">
        <!-- Product content goes here  px-5 py-3 bg-light border rounded mt-5 -->
        <form class="card " style="margin-top: 7rem;" method="POST" id="frm" enctype="multipart/form-data"
            novalidate>
            <h2 class="card-header" >Product Registration</h2>
            <div class="card-body row">
                {% csrf_token %}
                <!-- {{form.as_p}} -->

                <div class="form-group col-4">
                    <label label="form-label" for="productName">Name</label>
                    <input name="name" type="text" id="productName" class="form-control" placeholder="Product Name" required>
                </div>
                
                <div class="form-group col-4">
                    
                    <label for="category">Category:</label>
                    <select name="category" id="category" class="form-control" required>
                        <option value="">select</option>
                        <option value="Chair">Chair</option>
                        <option value="Table">Table</option>
                        <option value="Teapoy">Teapoy</option>
                        <option value="Cupboard">Cupboard</option>
                        <option value="Pooja Mandir">Pooja Mandir</option>
                        <!-- Add more options as needed -->
                    </select>
                </div>
                <div class="form-group col-4">
                    <label label="form-label" for="id_image_0">Images</label>
                    <input type="file" name="image" multiple id="id_image_0" class="form-control" required>
                </div>
                <!-- <div id="image-fields">
                    <div class="image-field" class="form-group">
                        <input type="file" name="image" multiple id="id_image_0" class="form-control">
                        <button type="button" class="remove-image-field">-</button>
                    </div>
                </div> -->
                <!-- <button type="button" id="add-image-field">+</button> -->
                <div class="form-group col-4">
                    <label label="form-label" for="productDescription">Description</label>
                    <textarea name="description" id="productDescription" cols="30" rows="5" class="form-control"
                        placeholder="Product Description" required></textarea>
                </div>
                
                

            </div>
            <div class="mx-3 col-4">
                    <button type="submit" class=" btn text-light my-2" style="background: #a56a44" id="submitBtn">
                        Submit
                    </button>
                </div>
            
        </form>


        <div class="my-5">

            <table id="myTable" class="display border">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for e in data %}
                    <tr>
                        <td>{{e.name}}</td>
                        <td>{{e.category}}</td>
                        <td> <a href="/delete-product/{{e.id}}"> <i class='bx bx-trash'></i></a></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
</section>

<script>
$(document).ready(function () {
    $('#myTable').DataTable();
});



//   $(document).ready(function() {
//     var index = 1;

//     $("#add-image-field").click(function() {
//         console.log("hitttt")
//       var imageField = $('<input type="file">'); // Create a new image field
//       imageField.attr("name", "image_" + index); // Set the name attribute
//       imageField.attr("id", "id_image_" + index); // Set the id attribute
//       var removeButton = $('<button type="button" class="remove-image-field">-</button>'); // Create a remove button
//       var div = $("<div>").addClass("image-field").append(imageField, removeButton); // Create a new <div> element and append the image field and remove button
//       $("#image-fields").append(div); // Append the new <div> to the container

//       index++; // Increment the index for the next field
//     });

//     // Event delegation to handle remove button click dynamically
//     $("#image-fields").on("click", ".remove-image-field", function() {
//       $(this).parent().remove(); // Remove the parent <div> containing the image field and remove button
//     });
//   });



</script>

{% endblock %}